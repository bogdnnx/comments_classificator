<!DOCTYPE html>
<html>
<head>
    <title>–ê–Ω–∞–ª–∏–∑ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –í–ö</title>
    <style>
        body {
            font-family: Arial;
            padding: 20px;
            margin: 0;
            position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ */
        }
        .main-content {
            margin-bottom: 300px; /* –û—Ç—Å—Ç—É–ø –¥–ª—è –∑–æ–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ */
        }
        .projects-container {
            position: fixed;
            bottom: 0;
            right: 0;
            width: 25%; /* 25% —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞ */
            height: 300px; /* –í—ã—Å–æ—Ç–∞ –∑–æ–Ω—ã */
            background-color: #f0f0f0;
            border: 1px solid #ccc;
            padding: 10px;
            box-sizing: border-box;
            overflow-y: auto;
        }
        .projects-header {
            font-weight: bold;
            margin-bottom: 10px;
            text-align: center;
        }
        .project-item {
            padding: 5px;
            border-bottom: 1px solid #ddd;
            display: flex; /* –î–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∏ –∫–Ω–æ–ø–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è */
            justify-content: space-between; /* –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ */
            align-items: center; /* –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–æ —Ü–µ–Ω—Ç—Ä—É –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ */
        }
        .project-item-content {
            flex-grow: 1; /* –ó–∞–Ω–∏–º–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ */
        }
        .project-delete-btn {
            background: none;
            border: none;
            color: red;
            cursor: pointer;
            font-size: 1.2em;
            padding: 0;
            margin-left: 10px; /* –û—Ç—Å—Ç—É–ø –æ—Ç —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ */
        }
        .project-create-btn {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            width: 100%;
        }
        .project-form {
            display: none; /* –°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
            margin-top: 10px;
        }
        .project-form input, .project-form button {
            margin: 5px 0;
            padding: 5px;
            width: 100%;
            box-sizing: border-box;
        }
        .project-form-buttons {
            display: flex;
            justify-content: space-between;
        }
        .project-form-buttons button {
            width: 48%;
        }
        .project-list {
            margin-top: 10px;
        }
        .project-actions {
            margin-top: 5px;
        }
        .project-actions button {
            margin-right: 5px;
            padding: 3px 6px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <div class="main-content">
        <h1>üîç –ê–Ω–∞–ª–∏–∑ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ</h1>
        <form method="post" action="/search">
            <input type="text" name="query" placeholder="–ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, iphone)" required style="width: 300px; padding: 8px;">
            <input type="number" name="count" value="10" min="1" max="50" placeholder="–ö–æ–ª-–≤–æ –ø–æ—Å—Ç–æ–≤" style="padding: 8px;">
            <button type="submit" style="padding: 8px 16px;">–ò—Å–∫–∞—Ç—å</button>
        </form>
    </div>

    <div class="projects-container">
        <div class="projects-header">–ü—Ä–æ–µ–∫—Ç—ã</div>
        <button id="createProjectBtn" class="project-create-btn">+</button>
        <form id="projectForm" class="project-form" method="post" action="/projects/create">
            <div>–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞</div>
            <input type="text" name="name" placeholder="–¢–µ–º–∞" required>
            <input type="number" name="search_depth_days" placeholder="–ì–ª—É–±–∏–Ω–∞ –ø–æ–∏—Å–∫–∞ (–¥–Ω–µ–π)" min="1" max="90" required>
            <div class="project-form-buttons">
                <button type="button" id="cancelFormBtn">–û—Ç–º–µ–Ω–∞</button>
                <button type="submit">–°–æ–∑–¥–∞—Ç—å</button>
            </div>
        </form>
        <div id="projectList" class="project-list">
            <!-- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω —Å–µ—Ä–≤–µ—Ä–æ–º -->
            {% for project in projects %}
            <div class="project-item">
                <div class="project-item-content">
                    <div><strong>{{ project.name }}</strong> (–ì–ª—É–±–∏–Ω–∞: {{ project.search_depth_days }} –¥–Ω.)</div>
                    <div class="project-actions">
                        <a href="/projects/{{ project.id }}/edit"><button>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button></a>
                        <form method="post" action="/projects/{{ project.id }}/search" style="display:inline;">
                            <button type="submit">–ü–æ–∏—Å–∫</button>
                        </form>
                        <form method="post" action="/projects/{{ project.id }}/quick_search" style="display:inline;">
                            <button type="submit">–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫</button>
                        </form>
                    </div>
                </div>
                <!-- –§–æ—Ä–º–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ -->
                <form method="post" action="/projects/{{ project.id }}/delete" style="display:inline;">
                    <button type="submit" class="project-delete-btn" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç \"{{ project.name }}\"?')">‚úï</button>
                </form>
            </div>
            {% endfor %}
        </div>
    </div>

    <script>
        // –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ñ–æ—Ä–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
        document.getElementById('createProjectBtn').addEventListener('click', function() {
            document.getElementById('projectForm').style.display = 'block';
        });

        document.getElementById('cancelFormBtn').addEventListener('click', function() {
            document.getElementById('projectForm').style.display = 'none';
        });
    </script>
</body>
</html>